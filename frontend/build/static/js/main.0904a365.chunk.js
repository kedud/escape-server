(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{324:function(t,e,n){t.exports=n(506)},329:function(t,e,n){},330:function(t,e,n){},362:function(t,e){},506:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(14),o=n.n(c),i=(n(329),n(85)),s=n(86),l=n(90),u=n(89),d=n(7),f=(n(330),n(131)),h=n(186),m=n(331),p=n(100),g="http://localhost:5000",y=m.a.fetchJson,v={getList:function(t,e){var n="".concat(g,"/").concat(t);return y(n).then((function(t){t.headers;var e=t.json;return console.log(e),{data:e.response,total:1}}))},getOne:function(t,e){return y("".concat(g,"/").concat(t,"/").concat(e.id)).then((function(t){return{data:t.json}}))},getMany:function(t,e){var n={filter:JSON.stringify({id:e.ids})},a="".concat(g,"/").concat(t,"?").concat(Object(p.stringify)(n));return y(a).then((function(t){return{data:t.json}}))},getManyReference:function(t,e){var n=e.pagination,a=n.page,r=n.perPage,c=e.sort,o=c.field,i=c.order,s={sort:JSON.stringify([o,i]),range:JSON.stringify([(a-1)*r,a*r-1]),filter:JSON.stringify(Object(h.a)({},e.filter,Object(f.a)({},e.target,e.id)))},l="".concat(g,"/").concat(t,"?").concat(Object(p.stringify)(s));return y(l).then((function(t){var e=t.headers;return{data:t.json,total:parseInt(e.get("content-range").split("/").pop(),10)}}))},update:function(t,e){return y("".concat(g,"/").concat(t,"/").concat(e.id),{method:"PUT",body:JSON.stringify(e.data)}).then((function(t){return{data:t.json}}))},updateMany:function(t,e){var n={filter:JSON.stringify({id:e.ids})};return y("".concat(g,"/").concat(t,"?").concat(Object(p.stringify)(n)),{method:"PUT",body:JSON.stringify(e.data)}).then((function(t){return{data:t.json}}))},create:function(t,e){return y("".concat(g,"/").concat(t),{method:"POST",body:JSON.stringify(e.data)}).then((function(t){var n=t.json;return{data:Object(h.a)({},e.data,{id:n.id})}}))},delete:function(t,e){return y("".concat(g,"/").concat(t,"/").concat(e.id),{method:"DELETE"}).then((function(t){return{data:t.json}}))},deleteMany:function(t,e){var n={filter:JSON.stringify({id:e.ids})};return y("".concat(g,"/").concat(t,"?").concat(Object(p.stringify)(n)),{method:"DELETE",body:JSON.stringify(e.data)}).then((function(t){return{data:t.json}}))}},b=n(29),O=n(575),j=n(574),E=n(555),k=n(560),S=n(559),J=n(558),_=n(581),w=n(561),N=n(579),C=n(257),D=n.n(C)()("http://localhost:5000");var M={width:300,minHeight:300,margin:"0.5em",display:"inline-block",verticalAlign:"top"},P=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).state={last_ping:new Date(t.record.last_ping),types:[]},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t,e,n=this;t=this.props.id,e=function(t,e){var a=JSON.parse(e);n.setState({last_ping:new Date(1e3*a.last_ping),status:a.status,types:a.types?a.types:[]})},D.on(t,(function(t){e(null,t)})),setInterval((function(){var t=new Date;n.setState({current_time:t})}),100)}},{key:"handleButtonClick",value:function(t,e){!function(t,e){D.emit(t,{hostname:e})}(t,e.hostname)}},{key:"render",value:function(){var t=this,e=this.props.record;return r.a.createElement(E.a,{style:M},r.a.createElement(J.a,{title:r.a.createElement(N.a,{record:e,source:"hostname"}),subheader:r.a.createElement(N.a,{record:e,source:"url"})}),r.a.createElement(S.a,null,"resolved"===this.state.status?r.a.createElement(_.a,{label:this.state.status,variant:"default"}):r.a.createElement(_.a,{label:this.state.status,variant:"default",color:"secondary"})),this.state.current_time&&this.state.last_ping&&r.a.createElement(S.a,null,this.state.current_time-this.state.last_ping<2e3?r.a.createElement(_.a,{label:this.state.current_time-this.state.last_ping,variant:"default"}):r.a.createElement(_.a,{label:this.state.current_time-this.state.last_ping,variant:"default",color:"secondary"})),r.a.createElement(k.a,{style:{textAlign:"right"}},this.state.types.includes("actuator")?r.a.createElement(w.a,{variant:"contained",color:"primary",onClick:function(){return t.handleButtonClick("action",e)}},"Action"):r.a.createElement(w.a,{variant:"contained",color:"primary",disabled:!0,onClick:function(){return t.handleButtonClick("action",e)}},"Action"),r.a.createElement(w.a,{variant:"contained",color:"secondary",onClick:function(){return t.handleButtonClick("reboot",e)}},"Restart Node")))}}]),n}(r.a.Component),B=n(576),A=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var t=this.props,e=t.ids,n=t.data,r=t.basePath;return a.createElement("div",{style:{margin:"1em"}},e.map((function(t){return a.createElement(P,{id:t,key:t,record:n[t],basePath:r})})))}}]),n}(a.Component),I={list:function(t){return a.createElement(B.a,Object.assign({title:"All nodes"},t),a.createElement(A,null))}},T=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t;t=function(t){console.log("socketIO event: "+t),Object(d.g)(Object(b.d)("socketIO event: "+t))},D.on("connect",(function(e){t("connect")})),D.on("disconnect",(function(e){t("disconnect")}))}},{key:"render",value:function(){return r.a.createElement(O.a,{dataProvider:v},r.a.createElement(j.a,Object.assign({name:"node"},I)))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[324,1,2]]]);
//# sourceMappingURL=main.0904a365.chunk.js.map